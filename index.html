<!DOCTYPE html>
<html lang="en">

    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Xina_Shop</title> <!-- TITULO DE LA PAGINA WEB -->
        <style>
        .color_body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
            background-color: rgb(18, 255, 251);
        }
        
        @media screen and (min-width:480px) {
            .color_body {
                background-color: pink;
            }
        }
        
        header {
            background-color: #7f5d5d;
            color: #fff;
            padding: 10px 20px;
            text-align: center;
        }
        
        header h1 {
            margin: 0;
        }
        
        nav ul {
            list-style-type: none;
            margin: 0;
            padding: 0;
        }
        
        nav ul li {
            display: inline;
            margin-right: 20px;
        }
        
        nav ul li a {
            color: #fff;
            text-decoration: none;
        }
        
        main {
            padding: 20px;
        }
        
        section {
            margin-bottom: 40px;
        }
        
        section h2 {
            color: #333;
        }
        
        form label {
            display: block;
            margin-bottom: 5px;
        }
        
        form input[type="text"],
        form input[type="email"],
        form textarea {
            width: 100%;
            padding: 8px;
            margin-bottom: 10px;
            border: 1px solid #ccc;
        }
        
        form button {
            padding: 10px 20px;
            background-color: #333;
            color: #fff;
            border: none;
            cursor: pointer;
        }
        
        
        table {
            width: 60%;
            border-collapse: collapse;
            margin: 20px auto;
            text-align: left;
        }
        th, td {
            border: 1px solid black;
            padding: 8px;
            text-align: left;
            border-style: inset;
            background-color: #7bcec2;
        }
        
        
        .horario {
            color:rgb(198, 132, 132);
            font-weight:bolder;
            font-family:Helvetica;
            padding: 10px;
            text-align: center;
            border: 2px solid rgb(15, 14, 14);
            border-radius: 20px;
            color: rgb(1, 10, 1);
        }
        
        footer {
            background-color: #333;
            color: #fff;
            text-align: center;
            padding: 20px 0;
        }
        
        .imagen {
            width: 100%;
            height: auto;
            max-width: 100%;
        }
        
        .relative {
            position: relative;
        }

        .img-responsive {
            display: block;
            max-width: 100%;
            height: auto;
            margin: 0 auto;
        }

        .btn {
            font-size: 1.2rem;
            padding: 1rem 2.5rem;
            border: none;
            outline: none;
            border-radius: 0.4rem;
            cursor: pointer;
            text-transform: uppercase;
            background-color: rgb(14, 14, 26);
            color: rgb(234, 234, 234);
            font-weight: 700;
            transition: 0.6s;
            box-shadow: 0px 0px 60px #1f4c65;
            -webkit-box-reflect: below 10px linear-gradient(to bottom, rgba(0,0,0,0.0), rgba(0,0,0,0.4));
          }
          
          .btn:active {
            scale: 0.92;
          }
          
          .btn:hover {
            background: rgb(2,29,78);
            background: linear-gradient(270deg, rgba(2, 29, 78, 0.681) 0%, rgba(31, 215, 232, 0.873) 60%);
            color: rgb(4, 4, 38);
          }

          /* Estilos para el modo oscuro */
         .dark-mode {
            background-color: #333;
            color: #fff;
          }


        </style>
        <link rel="icon" href="Imagenes/xina_shop_icon.ico"> <!-- HACE REFERENCIA AL ICONO DE LA PAGINA -->
        <!-- AQUI SE HACE REFERENCIA A LA LIBRERIA DE BOOTSTRAP (UNICAMENTE A LAS CLASES DE BOOSTRAP - PARA SU RESPECTIVO DISEÑO) -->
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
        <!-- <link rel="stylesheet" href="estilo.css"> --> 
    </head>


    <body class="color_body">
        <div class="container">

            <header>
                <nav class="navbar navbar-expand-lg">
                    <ul class="navbar-nav">
                        <li class="nav-item"><a class="nav-link text-light" href="index.html">Home</a></li>
                        <li class="nav-item"><a class="nav-link text-light" href="https://www.farmrio.cl/productos/vestido?gad_source=1&gclid=CjwKCAjw57exBhAsEiwAaIxaZpiEWKn6bTi4YIS5hmuh4Tt13fyv0Kv6cKE1P7XmzF_zTiPXrDt_CRoC6D4QAvD_BwE" target="_blank">Catálogo de Ropa</a></li>
                        <li class="nav-item"><a class="nav-link text-light" href="#registro">Registrate</a></li>
                        <li class="nav-item"><a class="nav-link text-light" href="#quienes-somos">Quienes somos</a></li>
                        <li class="nav-item"><a class="nav-link text-light" href="#comentarios">Comentarios</a></li>

                    </ul>
                </nav>
            </header>
            <br />
            <button onclick="toggleDarkMode()">Cambiar a modo oscuro</button>
    
            <br />
            <section id="home">
                <br>
                <h2>Bienvenid@s a la tienda <b>XINA_SHOP</b></h2>
                <p>Aqu&iacute; encontraras las mejores tendencias de moda.</p>
                <div class="relative">
                    <img src="Imagenes/xinashop.jpg" alt="Imagen de inicio" class="imagen">
                </div>
            </section>
            <section id="quienes-somos">
                <br />
                <br>
                <h3><b>Quienes Somos:</b></h3>
                <p><h3>Somos una tienda de ropa para mujer comprometida con la calidad y la moda.</h3></p>
            </section>

            <br /> 
    
            <div class="horario">                                   
                <h2>Horarios - Xina Shop</h2>
            </div>
    
            <br />
            
            <table>
                <tr>
                    <th>D&iacute;a</th>
                    <th>Horario</th>
                </tr>
                <tr>
                    <td>Lunes - Viernes</td>
                    <td>9:00 - 18:00</td>
                </tr>
                <tr>
                    <td>Sábado</td>
                    <td>10:00 - 14:00</td>
                </tr>
                <tr>
                    <td>Domingo</td>
                    <td>Cerrado</td>
                </tr>
            </table>

            <!-- Registro del cliente -->
        <section id="registro">
            <br />
            <h2><b>Reg&iacute;strate aqu&iacute;</b></h2>
            <p>¡Reg&iacute;strate para recibir información de nuestras promociones y descuentos!</p>

            <form id="miForm" method="post" onsubmit="return handleFormSubmit(event)"> <!-- Formulario de registro -->
                <label for="nombre">Nombre:</label> <!-- Campo para ingresar el nombre -->
                <input type="text" id="nombre" name="nombre" required> <!-- Campo para ingresar el nombre -->
                <span id="error-nombre" style="color: red; display: none;">El nombre no puede contener números.</span> <!-- Mensaje de error -->
                <br>

                <label for="email">Email:</label> <!-- Campo para ingresar el email -->
                <input type="email" id="email" name="email" required> <!-- Campo para ingresar el email -->
                <br>

                <button class="btn"> <!-- Botón para enviar el formulario -->
                    ENVIAR
                </button>
                
            </form>
        </section>

        <script>
            function handleFormSubmit(event) {
                event.preventDefault();  // Previene el comportamiento predeterminado del envío del formulario

                function validateForm() {
                    const nombre = document.getElementById('nombre').value; // Obtiene el valor del campo nombre
                    const errorNombre = document.getElementById('error-nombre'); // Obtiene el elemento de error
                    const regex = /\d/;  // Expresión regular para buscar números

                    if (regex.test(nombre)) {
                        errorNombre.style.display = 'inline'; // Muestra la alerta si el usuario ingresa números
                        alert("El nombre no puede contener números.");  // Aqui muestra la alerta si el usuario ingresa numeros
                        return false;  // Evita que el formulario se envíe
                    } else {
                        errorNombre.style.display = 'none';
                        return true;  // Permite que el formulario se envíe
                    }
                }

                function mostrarMensaje() {
                    var nombre = document.getElementById("nombre").value; 
                    alert("¡Muchas gracias por comunicarte con XINA_SHOP!\nPronto te contactaremos " + nombre + ".");
                }  // Aquí se muestra el mensaje despues de registrarse mas el nombre que ingreso el usuario

                if (validateForm()) {
                    mostrarMensaje();
                    // Aquí puedes agregar la lógica para enviar el formulario si es necesario
                    document.getElementById('miForm').submit();  // Envía el formulario
                }

            }
            function mostrarMensaje() {
                alert("¡Hola! Bienvenid@ a la tienda SHINA SHOP."); // Este va de la mano con el de abajo
            }
            
            setTimeout(mostrarMensaje, 3000); // despues de 3 segundos te arroja la alerta de bienvenida

            function toggleDarkMode() {
                const body = document.body;
                body.classList.toggle('dark-mode');
                const isDarkMode = body.classList.contains('dark-mode');
                localStorage.setItem('dark-mode', isDarkMode);  // permite cambiar entre el modo oscuro y claro al hacer clic en el botón.
            }
    
            window.onload = function() {
                const isDarkMode = localStorage.getItem('dark-mode') === 'true';
                const body = document.body;
                if (isDarkMode) {
                    body.classList.add('dark-mode');
                }
            }; // asegura que el modo oscuro se mantenga o se active automáticamente al cargar la página, utilizando la información guardada en localStorage

      
            
            
        </script>



        <div class="text-center">
            <img src="Imagenes/CONTACTOS.jpg" alt="Imagen de inicio" class="img-responsive center-block">
        </div>

        <br />
        <br />
        <br />

        <!-- Comentarios  -->
        <section id="comentarios">
            <div id="comments">
                <h1>¡ Comenta con nosotros !</h1>

                <!-- Lista de comentarios -->
                <div v-if="comments.length > 0">
                    <div class="comment" v-for="comment in comments" :key="comment.id">
                        <div class="info">
                            <span>{{ comment.author }}</span> - <span>{{ comment.date }}</span>
                            <div class="rating">
                                <span v-for="n in comment.rating" class="fa fa-star"></span>
                            </div>
                        </div>
                        <p>{{ comment.content }}</p>
                        <button @click="editComment(comment)">Editar</button>
                        <br>
                        <br>
                        <button @click="deleteComment(comment.id)">Eliminar</button>

                        <!-- Formulario de edición -->
                        <div v-if="comment.id === editingId" class="edit-form">
                            <h3>Editar Comentario</h3>
                            <label for="edit-author">Autor:</label>
                            <input type="text" id="edit-author" v-model="editedComment.author" required> 
                            <br>
                            <label for="edit-rating">Valoración:</label>
                            <select id="edit-rating" v-model="editedComment.rating" required>
                                <option disabled value="">Selecciona una valoración</option>
                                <option v-for="n in 5" :value="n">{{ n }} estrella(s)</option>
                            </select>
                            <br>
                            <br>
                            <label for="edit-content">Comentario:</label>
                            <textarea id="edit-content" v-model="editedComment.content" required></textarea>
                            <br>
                            <br>
                            <button @click="updateComment">Actualizar</button>
                            <br>
                            <br>
                            <button @click="cancelEdit">Cancelar</button>
                        </div>
                    </div>
                </div>
                <div v-else>
                    <p>No hay comentarios aún.</p>
                </div>

                <!-- Formulario para agregar un nuevo comentario -->
                <div class="new-comment">
                    <h2>Agregar un Comentario</h2> <!-- Título del formulario -->
                    <label for="new-author">Nombre del Cliente:</label> <!-- Campo para ingresar el nombre del cliente -->
                    <input type="text" id="new-author" v-model="newComment.author" required> 
                    <br>
                    <br>
                    <label for="new-rating">Valoración:</label>
                    <select id="new-rating" v-model="newComment.rating" required>
                        <option disabled value="">Selecciona una valoración</option>
                        <option v-for="n in 5" :value="n">{{ n }} estrella(s)</option>
                    </select>
                    <br>
                    <br>
                    <label for="new-content">Comentario:</label> <!-- Campo para ingresar el comentario -->
                    <textarea id="new-content" v-model="newComment.content" required></textarea> <!-- Campo para ingresar el contenido del comentario -->
                    <br>
                    <br>
                    <button @click="addComment">Enviar Comentario</button> <!-- Botón para enviar comentario -->
                    <button @click="downloadComments">Descargar Comentarios</button> <!-- Botón para descargar comentarios -->
                </div>
            </div>
        </section>

        <script src="https://cdn.jsdelivr.net/npm/vue@2"></script> <!-- Se hace referencia a la libreria de Vue.js -->
        <script>
            new Vue({
                el: '#comments',
                data: {
                    comments: [
                        { id: 1, author: '-Esteban Caceres', date: '2024-06-22', rating: 5, content: 'Excelente producto, muy recomendado.' },
                        { id: 2, author: '-María Vera', date: '2024-06-21', rating: 4, content: 'Buena calidad, pero el envío fue lento.' }
                    ],
                    newComment: {
                        author: '',
                        rating: '',
                        content: ''
                    },
                    editingId: null,
                    editedComment: {
                        id: null,
                        author: '',
                        rating: '',
                        content: ''
                    }
                },
                methods: {
                    addComment() {
                        if (!this.newComment.author || !this.newComment.rating || !this.newComment.content) {
                            alert('Por favor completa todos los campos.'); // Muestra una alerta si no se completan todos los campos
                            return;
                        }

                        const currentDate = new Date().toISOString().slice(0, 10); // Obtiene la fecha actual en formato YYYY-MM-DD
                        const newId = this.comments.length > 0 ? this.comments[this.comments.length - 1].id + 1 : 1; // Obtiene el ID del nuevo comentario

                        this.comments.push({
                            id: newId,
                            author: this.newComment.author,
                            rating: parseInt(this.newComment.rating),
                            content: this.newComment.content,
                            date: currentDate
                        }); // Agrega el nuevo comentario al array de comentarios

                        this.newComment.author = ''; // Limpia el campo de autor
                        this.newComment.rating = ''; // Limpia el campo de valoración
                        this.newComment.content = ''; // Limpia el campo de contenido
                    },
                    editComment(comment) {
                        this.editingId = comment.id; // Establece el ID del comentario que se está editando
                        this.editedComment = {
                            id: comment.id,
                            author: comment.author,
                            rating: comment.rating,
                            content: comment.content
                        }; // Establece los datos del comentario que se está editando
                    },
                    updateComment() {
                        const index = this.comments.findIndex(comment => comment.id === this.editedComment.id); // Busca el índice del comentario que se está editando
                        if (index !== -1) {
                            this.comments[index].author = this.editedComment.author; // Actualiza los datos del comentario
                            this.comments[index].rating = this.editedComment.rating; // Actualiza los datos del comentario
                            this.comments[index].content = this.editedComment.content; // Actualiza los datos del comentario
                        }

                        this.cancelEdit(); // Cancela la edición del comentario
                    },
                    deleteComment(id) {
                        if (confirm('¿Estás seguro de eliminar este comentario?')) {
                            this.comments = this.comments.filter(comment => comment.id !== id); // Elimina el comentario
                            this.cancelEdit(); // Cancela la edición del comentario
                        }
                    },
                    cancelEdit() {
                        this.editingId = null; // Restablece el ID del comentario que se está editando
                        this.editedComment = {
                            id: null,
                            author: '',
                            rating: '',
                            content: ''
                        }; // Restablece los datos del comentario que se está editando
                    },
                    downloadComments() {
                        const dataStr = "data:text/json;charset=utf-8," + encodeURIComponent(JSON.stringify(this.comments)); // Convierte los comentarios a formato JSON
                        const downloadAnchorNode = document.createElement('a'); // Crea un elemento <a> para descargar los comentarios
                        downloadAnchorNode.setAttribute("href", dataStr); // Establece el atributo href del elemento <a>
                        downloadAnchorNode.setAttribute("download", "comments.json"); // Establece el atributo download del elemento <a>
                        document.body.appendChild(downloadAnchorNode); // Agrega el elemento <a> al cuerpo del documento
                        downloadAnchorNode.click(); // Simula un clic en el elemento <a>
                        downloadAnchorNode.remove(); // Elimina el elemento <a> del cuerpo del documento
                    }
                }
            }); 
        </script>
    </main>


             <!-- OBTIENE EL AÑO EN CURSO MEDIANTE JAVASCRIPT -->
             <script>
                var anio = new Date().getFullYear();
            </script>
    
            <footer>
                <!-- ACÁ USAMOS EL RESULTADO DE ANIO PARA MOSTRAR EN EL FOOTER -->
                <p>&copy; <script>document.writeln(anio);</script> Xinashop - Todos los derechos reservados.</p>
            </footer>


        </div>

        <!-- AQUI SE HACE REFERENCIA A LA LIBRERIA DE BOOTSTRAP JAVASCRIPT -->
        <!-- ALGUNAS FUNCIONES DEL USO DE BOOSTRAP REQUIEREN ESTA LIBRERIA PARA FUNCIONAR -->
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous"></script>

  
    </body>
   

</html>

